<html>
<head>
<title>A8_Sec14_23201118_Abir-Enam.txt</title>
</head>
<body bgcolor="white">
<hr/>
A8_Sec14_23201118_Abir-Enam.txt<p></p><pre>
public class Lab8 {

    // MinHeap class for Task 1
    static class MinHeap {
        private int[] heap;
        private int size;
        private int capacity;

        public MinHeap(int capacity) {
            this.capacity = capacity;
            this.heap = new int[capacity + 1]; 
            this.size = 0;
        }

        public void insert(int value) {
            if (size &lt; capacity) {
                size++;
<a name="2"></a><font color="#0000FF"><a href="match100-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

                heap[size] = value;
                swim(size);
            }
        }

        private void swim(int k) {
            while (k &gt; 1 &amp;&amp; heap[k] &lt; heap[k/2]) {
                swap(k, k/2);
                k = k/2;
            }
        }

        public int extractMin() {
            if (size == 0) {
</font>                return -1; // Return -1 if heap is empty
            }
            int min = heap[1];
            swap(1, size);
<a name="0"></a><font color="#FF0000"><a href="match100-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

            size--;
            sink(1);
            return min;
        }

        private void sink(int k) {
            while (2*k &lt;= size) {
                int j = 2*k;
                if (j &lt; size &amp;&amp; heap[j] &gt; heap[j+1]) j++;
                if (heap[k] &lt;= heap[j]) break;
                swap(k, j);
                k = j;
            }
        }

        public void sort() {
            int originalSize = size;
</font>            while (size &gt; 1) {
                swap(1, size);
                size--;
                sink(1);
            }
<a name="5"></a><font color="#FF0000"><a href="match100-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

            size = originalSize;
        }

       public int[] getHeapAsArray() {
            int[] result = new int[size];
            for (int i = 1; i &lt;= size; i++) {
</font>                result[i-1] = heap[i];
            }
            return result;
        }

        public int getSize() {
            return size;
        }

        private void swap(int i, int j) {
            int temp = heap[i];
            heap[i] = heap[j];
            heap[j] = temp;
        }
    }
   


    // MaxHeap class for Task 2
    static class MaxHeap {
        private int[] heap;
        private int size;
        private int capacity;

        public MaxHeap(int capacity) {
            this.capacity = capacity;
            this.heap = new int[capacity + 1];        
            this.size = 0;
        }

        public void insert(int value) {
            if (size &lt; capacity) {
                size++;
<a name="1"></a><font color="#00FF00"><a href="match100-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

                heap[size] = value;
                swim(size);
            }
        }

        private void swim(int k) {
            while (k &gt; 1 &amp;&amp; heap[k] &gt; heap[k/2]) {
                swap(k, k/2);
                k = k/2;
            }
        }

        public int extractMax() {
            if (size == 0) {
</font>                return -1; // Return -1 if heap is empty
            }
            int max = heap[1];
            swap(1, size);
<a name="4"></a><font color="#FF00FF"><a href="match100-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

            size--;
            sink(1);
            return max;
        }

        private void sink(int k) {
            while (2*k &lt;= size) {
                int j = 2*k;
                if (j &lt; size &amp;&amp; heap[j] &lt; heap[j+1]) j++;
</font>                if (heap[k] &gt;= heap[j]) break;
                swap(k, j);
                k = j;
            }
        }

        public void sort() {
            int originalSize = size;
            while (size &gt; 1) {
                swap(1, size);
                size--;
                sink(1);
            }
            size = originalSize;
        }

 public int[] getHeapAsArray() {
            int[] result = new int[size];
            for (int i = 1; i &lt;= size; i++) {
                result[i-1] = heap[i];
            }
            return result;
        }

        public int getSize() {
            return size;
        }

        private void swap(int i, int j) {
            int temp = heap[i];
            heap[i] = heap[j];
<a name="3"></a><font color="#00FFFF"><a href="match100-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

            heap[j] = temp;
        }
    }




    // Task3
    public static int[] assignTasks(int[] tasks, int m) {
        MinHeap heap = new MinHeap(m);
        // Initialize all machines with load 0
        for (int i = 0; i &lt; m; i++) {
            heap.insert(0);
</font>        }
         for (int i = 0; i &lt; tasks.length; i++) {
            int minLoad = heap.extractMin();
            heap.insert(minLoad + tasks[i]);
        }
<a name="6"></a><font color="#00FF00"><a href="match100-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        return heap.getHeapAsArray();
    }


    // Task 4
    public static int[] topKLargest(int[] nums, int k) {
        MaxHeap heap = new MaxHeap(nums.length);
        for (int i = 0 ; i &lt; nums.length ; i++) {
</font>          heap.insert(nums[i]);
        }
        int[] result = new int[k];
<a name="7"></a><font color="#0000FF"><a href="match100-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        for (int i = 0; i &lt; k; i++) {
            result[i] = heap.extractMax();
        }
        return result;
    }

    // Main method for testing
    public static void main(String[] args) {
</font>        // Test MinHeap and MaxHeap
        MinHeap minHeap = new MinHeap(5);
        minHeap.insert(5);
        minHeap.insert(3);
        minHeap.insert(8);
        minHeap.insert(1);
        minHeap.insert(2);
        minHeap.sort();
        System.out.println("MinHeap sorted: " + java.util.Arrays.toString(minHeap.getHeapAsArray()));

        MaxHeap maxHeap = new MaxHeap(5);
        maxHeap.insert(5);
        maxHeap.insert(3);
        maxHeap.insert(8);
        maxHeap.insert(1);
        maxHeap.insert(2);
        maxHeap.sort();
        System.out.println("MaxHeap sorted: " + java.util.Arrays.toString(maxHeap.getHeapAsArray()));

        // Test Task 3
<a name="8"></a><font color="#00FFFF"><a href="match100-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        int[] tasks = {2, 4, 7, 1, 6};
        int m = 4;
        int[] result3 = assignTasks(tasks, m);
</font>        System.out.println("Task 3 output: " + java.util.Arrays.toString(result3));

        // Test Task 4
<a name="9"></a><font color="#FF00FF"><a href="match100-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

        int[] nums = {4, 10, 2, 8, 6, 7};
        int k = 3;
        int[] result4 = topKLargest(nums, k);
</font>        System.out.println("Task 4 output: " + java.util.Arrays.toString(result4));
    }
</pre>
</body>
</html>
