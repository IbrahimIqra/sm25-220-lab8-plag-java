<html>
<head>
<title>A8_Sec10_24101246_Nahiyan-Mysha-Ayome.txt</title>
</head>
<body bgcolor="white">
<hr/>
A8_Sec10_24101246_Nahiyan-Mysha-Ayome.txt<p></p><pre>
ï»¿import java.util.*;
public class MinH {
    int[] arr;
    int sz, cap;
     public  MinH(int cap){
        arr = new int[cap];
        this.cap = cap;
    }
    private  void add(int val){
 if (sz == cap) return;
        arr[sz++] = val;
        up(sz - 1);
    }
      private void up(int idx){
        while (idx &gt; 0 &amp;&amp; arr[(idx - 1) / 2] &gt; arr[idx]){
            swap(idx, idx = (idx - 1) / 2);
        }
    }
     private void swap(int i, int j) {
        int temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }
    int get(){
        if (sz == 0) return -1;
        int min = arr[0];
        arr[0] = arr[--sz];
        down(0);
        return min;
    }
     private void down(int idx) {
        int left, right, small;
        while ((left = 2 * idx + 1) &lt; sz) {
            small = idx;
            right = left + 1;
            if (arr[left] &lt; arr[small]) small = left;
            if (right &lt; sz &amp;&amp; arr[right] &lt; arr[small]) small = right;
            if (small == idx) break;
            swap(idx, small);
            idx = small;
        }
    }
     public static void main(String[] args){
        Scanner sc = new Scanner(System.in);
        System.out.println("Number of tasks:");
        int n = sc.nextInt();
        int[] tasks = new int[n];
<a name="3"></a><font color="#00FFFF"><a href="match25-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_7.gif"/></a>

        for (int i = 0; i &lt; n; i++) {
            tasks[i] = sc.nextInt();
        }
        System.out.println("Number of machines:");
        int m = sc.nextInt();
        
        MinH heap = new MinH(m);
        for (int i = 0; i &lt; m; i++) {
            heap.add(0);
        }
        
        for (int i = 0; i &lt; n; i++) {
</font>            int load = heap.get();
            heap.add(load + tasks[i]);
        }
        
<a name="6"></a><font color="#00FF00"><a href="match25-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

        int[] result = new int[m];
        for (int i = 0; i &lt; m; i++) {
            result[i] = heap.get();
        }
        System.out.println(Arrays.toString(result));
</font>    }
}
<a name="5"></a><font color="#FF0000"><a href="match25-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

import java.util.*;
public class MaxHeap{
    private int[] dataArr;
    private int currentElem;
    private int maxCapacity;
    
    public MaxHeap(int capacity){
        this.dataArr= new int[capacity];
        this.maxCapacity = capacity;
        this.currentElem = 0;
    }
     public void insert(int val){
 if(currentElem &lt; maxCapacity){
</font><a name="2"></a><font color="#0000FF"><a href="match25-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_9.gif"/></a>

 dataArr[currentElem] = val;
  currentElem++;
 bubbleUp(currentElem - 1);
        }
    }
private void bubbleUp(int position){
        while (position &gt; 0 &amp;&amp; dataArr[getParentIndex(position)]&lt;dataArr[position]){
    swapElements(position, getParentIndex(position));
    position = getParentIndex(position);
        }
    }
    
private void swapElements(int first, int second){
 int temp = dataArr[first];
  dataArr[first] = dataArr[second];
dataArr[second] = temp;
    }
    
public int removeMaximum(){
  if (currentElem == 0) {
</font>throw new RuntimeException("Heap is empty");
        }
        
<a name="4"></a><font color="#FF00FF"><a href="match25-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_6.gif"/></a>

 int maximumValue = dataArr[0];
dataArr[0] = dataArr[currentElem- 1];
currentElem--;
  bubbleDown(0);
return maximumValue;
    }
    
    private void bubbleDown(int position) {
 int largestIndex = position;
        
        while (getLeftChildIndex(position) &lt; currentElem) {
    int leftIdx = getLeftChildIndex(position);
 int rightIdx = getRightChildIndex(position);
            
if (leftIdx &lt; currentElem &amp;&amp; dataArr[leftIdx] &gt; dataArr[largestIndex]){
</font>    largestIndex = leftIdx;
 }
            
<a name="0"></a><font color="#FF0000"><a href="match25-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_16.gif"/></a>

if (rightIdx &lt; currentElem &amp;&amp; dataArr[rightIdx] &gt; dataArr[largestIndex]) {
largestIndex = rightIdx;
            }
            
if (largestIndex != position) {
                swapElements(position, largestIndex);
                position = largestIndex;
            } else {
                break;
            }
        }
    }
    
 private int getParentIndex(int childIndex) {
return (childIndex - 1) / 2;
    }
    
 private int getLeftChildIndex(int parentIndex) {
        return 2 * parentIndex + 1;
    }
    
 private int getRightChildIndex(int parentIndex) {
        return 2 * parentIndex + 2;
    }
    
public void performHeapSort() {
        int originalSize = currentElem;
        
        for (int idx = originalSize - 1; idx &gt; 0; idx--) {
            swapElements(0, idx);
            currentElem--;
            bubbleDown(0);
        }
        
        currentElem = originalSize;
    }
    
    public void displayArray(){
        System.out.println(Arrays.toString(dataArr));
    }
    
    public static void main(String[] arg){
Scanner sc = new Scanner(System.in);
 System.out.print(" the number of elements: ");
 int totalElem = sc.nextInt();
 System.out.println(" array elements: ");
        int[] inputNum = new int[totalElem];
</font><a name="1"></a><font color="#00FF00"><a href="match25-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_10.gif"/></a>

MaxHeap heap = new MaxHeap(totalElem);
        
        for (int counter = 0; counter &lt; inputNum.length; counter++) {
            inputNum[counter] = sc.nextInt();
            heap.insert(inputNum[counter]);
        }
  System.out.print("count of largest elements ");
int kLargest = sc.nextInt();
 int[] topElem= new int[kLargest];
 for (int index = 0; index &lt; topElem.length; index++) {
topElem[index] = heap.removeMaximum();
        }
System.out.println( Arrays.toString(topElem));      
</font>    }
}</pre>
</body>
</html>
