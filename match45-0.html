<html>
<head>
<title>A8_Sec17_23201346_S.M-Nafis.txt</title>
</head>
<body bgcolor="white">
<hr/>
A8_Sec17_23201346_S.M-Nafis.txt<p></p><pre>
#A8_s17_23201346_S.M Nafis.txt

#task 3
public class TaskSchedulerHeap {

 
    private static void buildMinHeap(int[] heap, int size) {
        for (int i = size / 2 - 1; i &gt;= 0; i--) {
            heapify(heap, size, i);
        }
    }

  
    private static void heapify(int[] heap, int size, int root) {
        int smallest = root;
        int left = 2 * root + 1;
        int right = 2 * root + 2;

<a name="2"></a><font color="#0000FF"><a href="match45-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_7.gif"/></a>

        if (left &lt; size &amp;&amp; heap[left] &lt; heap[smallest]) {
            smallest = left;
        }
        if (right &lt; size &amp;&amp; heap[right] &lt; heap[smallest]) {
            smallest = right;
        }
        if (smallest != root) {
            int temp = heap[root];
            heap[root] = heap[smallest];
            heap[smallest] = temp;
</font>            heapify(heap, size, smallest);
        }
    }
<a name="6"></a><font color="#00FF00"><a href="match45-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    private static int extractMin(int[] heap, int size) {
        int rootVal = heap[0];
        heap[0] = heap[size - 1];  // Move last element to root
</font>        heapify(heap, size - 1, 0);
        return rootVal;
    }


    private static void insert(int[] heap, int value, int size) {
        heap[size] = value; 
<a name="3"></a><font color="#00FFFF"><a href="match45-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

        int current = size;

        // Bubble up
        while (current &gt; 0) {
            int parent = (current - 1) / 2;
            if (heap[parent] &gt; heap[current]) {
                int temp = heap[parent];
                heap[parent] = heap[current];
                heap[current] = temp;
                current = parent;
            } else {
                break;
            }
        }
    }


    public static int[] distributeTasks(int[] tasks, int m) {
</font>        int[] heap = new int[m];  // initial loads are 0
        int heapSize = m;

        buildMinHeap(heap, heapSize);

<a name="4"></a><font color="#FF00FF"><a href="match45-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

        for (int i = 0; i &lt; tasks.length; i++) {
            // Extract min load
            int minLoad = extractMin(heap, heapSize);
            heapSize--;  // one element removed

            // Add current task to this load
            int updatedLoad = minLoad + tasks[i];

            // Insert back updated load
            insert(heap, updatedLoad, heapSize);
</font>            heapSize++;
        }

<a name="5"></a><font color="#FF0000"><a href="match45-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

        return heap;
    }


    public static void main(String[] args) {
        int[] tasks = {2, 4, 7, 1, 6};
        int m = 4;

        int[] result = distributeTasks(tasks, m);
</font>
        System.out.print("Final Heap Array: [");
        for (int i = 0; i &lt; result.length; i++) {
            System.out.print(result[i]);
            if (i &lt; result.length - 1) {
                System.out.print(", ");
            }
        }
        System.out.println("]");
    }
}




#task4
public class TopKMaxHeap {

    //Function to build array to max-heap
    private static void buildMaxHeap(int[] arr, int size) {
        for (int i = size / 2 - 1; i &gt;= 0; i--) {
            heapify(arr, size, i);
        }
    }

    // function for max-heap
    private static void heapify(int[] arr, int size, int root) {
        int largest = root;
        int left = 2 * root + 1;
        int right = 2 * root + 2;

<a name="1"></a><font color="#00FF00"><a href="match45-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

        if (left &lt; size &amp;&amp; arr[left] &gt; arr[largest]) largest = left;
        if (right &lt; size &amp;&amp; arr[right] &gt; arr[largest]) largest = right;

        if (largest != root) {
            int temp = arr[root];
            arr[root] = arr[largest];
            arr[largest] = temp;
</font><a name="0"></a><font color="#FF0000"><a href="match45-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_20.gif"/></a>

            heapify(arr, size, largest);
        }
    }

    // Extract max (root of heap)
    private static int extractMax(int[] arr, int size) {
        if (size &lt;= 0) return -1; // edge case
        int root = arr[0];
        arr[0] = arr[size - 1]; // move last element to root
        heapify(arr, size - 1, 0);
        return root;
    }

    // Function to top-k largest elements
    public static int[] getTopK(int[] nums, int k) {
        int n = nums.length;
        if (k &gt; n) k = n;

        // Build max-heap
        buildMaxHeap(nums, n);

        // Extract max k times
        int[] result = new int[k];
        int heapSize = n;
        for (int i = 0; i &lt; k; i++) {
            result[i] = extractMax(nums, heapSize);
            heapSize--;
        }
        return result; // already in descending order
    }

    
    public static void main(String[] args) {
        int[] nums = {4, 10, 2, 8, 6, 7};
        int k = 3;

        int[] topK = getTopK(nums, k);
</font>
        System.out.print("Top " + k + " largest: [");
        for (int i = 0; i &lt; topK.length; i++) {
            System.out.print(topK[i]);
            if (i &lt; topK.length - 1) System.out.print(", ");
        }
        System.out.println("]");
    }
}
</pre>
</body>
</html>
