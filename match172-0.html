<html>
<head>
<title>A8_Sec18_23301081_Mahib-Shahriar.txt</title>
</head>
<body bgcolor="white">
<hr/>
A8_Sec18_23301081_Mahib-Shahriar.txt<p></p><pre>
ï»¿#MaxHeap
<a name="3"></a><font color="#00FFFF"><a href="match172-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

public class MaxHeap {
        private int[] heap;
        private int size;
        
        public MaxHeap(int c) {
                heap = new int[c];
                size = 0;
        }
        public void insert(int v) {
                if (size == heap.length) {
</font>                        System.out.println("Heap is full");
                        return;
                }
                heap[size] = v;
                swim(size);
                size++;
        }
        
        private void swim(int i) {
                while (i &gt; 0 &amp;&amp; heap[i] &gt; heap[(i -1) /2]) {
                        swap(i, (i - 1) / 2);
                        i = (i - 1) / 2;
                }
        }
        
        public int extractMax() {
                if (size == 0) {
                        System.out.println("Heap is empty");
<a name="4"></a><font color="#FF00FF"><a href="match172-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

                        return -1;
                }
                int max = heap[0];
                heap[0] = heap[size - 1];
                size--;
                sink(0);
                return max;
        }
        
        private void sink(int ii) {
</font>                while (2*ii+1 &lt; size) {
                        int large = 2*ii+1;
                        if (large+1 &lt; size &amp;&amp; heap[large + 1] &gt; heap[large]) {
                                large = large + 1;
                        }
                        if (heap[ii] &gt;= heap[large]) break;
<a name="7"></a><font color="#0000FF"><a href="match172-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

                        swap(ii, large);
                        ii = large;
                }
        }
        
        public void sort() {
                int mSize = size;
                for (int i = size - 1; i &gt; 0; i--) {
</font>                        swap(0, i);
                        size--;
                        sink(0);
                }
                size = mSize;
        }
        
        private void swap(int i, int j) {
                int t = heap[i];
                heap[i] = heap[j];
                heap[j] = t;
        }
        
        public void printHeap() {
                for (int i = 0; i &lt; size; i++) {
                        System.out.println(heap[i] + " ");
                }
                System.out.println();
        }
}
































#MinHeap
public class MinHeap {
        private int[] heap;
        private int size;
        
        public MinHeap(int c) {
                heap = new int[c];
                size = 0;
        }
        
        private void swap(int i, int j) {
                int t = heap[i];
                heap[i] = heap[j];
                heap[j] = t;
        }
        
<a name="5"></a><font color="#FF0000"><a href="match172-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        private void swim(int idx) {
                while (idx &gt; 0) {
                        int start = (idx - 1) / 2;
                        if (heap[idx] &gt;= heap[start]) break;
</font>                        swap(idx, start);
                        idx = start;
                }
        }
        
        public void insert(int v) {
                if (size == heap.length) {
                        System.out.println("Heap is full");
                        return;
                }
                heap[size] = v;
                swim(size);
                size++;
        }
        
<a name="0"></a><font color="#FF0000"><a href="match172-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

        private void sink(int idx) {
                while (true) {
                        int left = 2*idx+1;
                        int right = 2*idx+2;
                        int small = idx;
                        if (left &lt; size &amp;&amp; heap[left] &lt; heap[small]) small = left;
                        if (right &lt; size &amp;&amp; heap[right] &lt; heap[small]) small = right;
                        if (small == idx) break;
</font>                        swap(idx, small);
                        idx = small;
                }
        }
        
        public int extractMin() {
                if (size == 0) {
                        System.out.println("Heap is empty");
                        return -1;
                }
                int min = heap[0];
                heap[0] = heap[--size];
                sink(0);
                return min;
        }
        
        public void sort() {
                int mSize = size;
                for (int i = size - 1; i &gt; 0; i--) {
                        swap(0,i);
                        size--;
                        sink(0);
                }
                size = mSize;
        }
        
        public void printHeap() {
                for (int i = 0; i &lt; size; i++) {
                        System.out.print(heap[i] + " ");
                }
                System.out.println();
        }
}


________________


#Task 3
public class Task3 {
<a name="2"></a><font color="#0000FF"><a href="match172-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

        public static int[] scheduleTask(int[] tasks, int m) {
                MinHeap mLoads = new MinHeap(m);
                for (int i = 0; i &lt; m; i++) {
                        mLoads.insert(0);
</font>                }
                for (int tTime : tasks) {
                        int minLoad = mLoads.extractMin();
                        minLoad += tTime;
                        mLoads.insert(minLoad);
                }
                int[] result = new int[m];
                for (int i = 0; i &lt; m; i++) {
                        result[i] = mLoads.extractMin();
                }
                return result;
        }
        
<a name="6"></a><font color="#00FF00"><a href="match172-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        public static void main(String[] args) {
                int[] tasks = {2,4,7,1,6};
                int m = 4;
                int[] mLoads = scheduleTask(tasks, m);
</font>                for (int load : mLoads) {
                        System.out.print(load + " ");
                }
        }
}
________________


#Task 4
public class Task4 {
<a name="1"></a><font color="#00FF00"><a href="match172-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    public int[] largeK(int[] nums, int k) {
        MaxHeap mHeap = new MaxHeap(nums.length);
        for (int num : nums) {
            mHeap.insert(num);
        }
        int[] result = new int[k];
        for (int i = 0; i &lt; k; i++) {
</font>            result[i] = mHeap.extractMax();
        }
        return result;
    }
    
<a name="8"></a><font color="#00FFFF"><a href="match172-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    public static void main(String[] args) {
        int[] nums = {4,10,2,8,6,7};
        int k = 3;
</font>        Task4 solve = new Task4();
        int[] result = solve.largeK(nums, k);
        for (int num : result) {
            System.out.print(num+" ");
        }
    }
}</pre>
</body>
</html>
