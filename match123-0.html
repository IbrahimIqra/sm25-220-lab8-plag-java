<html>
<head>
<title>A8_Sec25_23201507_RAYHAN-JUBAYER-MARIB---RAYHAN-JUBAYER-MARIB.txt</title>
</head>
<body bgcolor="white">
<hr/>
A8_Sec25_23201507_RAYHAN-JUBAYER-MARIB---RAYHAN-JUBAYER-MARIB.txt<p></p><pre>
//Task 03

<a name="6"></a><font color="#00FF00"><a href="match123-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

class MinHeap{
  private int[] heap;
  private int size;
  public MinHeap(int cap){
    heap = new int[cap];
    size = 0;
  }
  public void insert(int val){
    if (size &gt;= heap.length){
</font>      return;
    }
    heap[size] = val;
    swim(size);
    size++;
  }
  private void swim(int idx){
    while (idx &gt; 0) {
<a name="3"></a><font color="#00FFFF"><a href="match123-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

      int parent = (idx - 1) / 2;
      if (heap[idx] &gt;= heap[parent]){
        break;
      }
      int temp = heap[idx];
      heap[idx] = heap[parent];
      heap[parent] = temp;
</font>      idx = parent;
    }
  }
  public int extractMin(){
    if (size == 0){
      return -1;
    }
    int min = heap[0];
    heap[0] = heap[size - 1];
    size--;
    if (size &gt; 0){
      sink(0);
    }
    return min;
  }
  private void sink(int idx){
    while (true){
      int leftChild = 2 * idx + 1;
      int rightChild = 2 * idx + 2;
      int smallest = idx;
      
      if (leftChild &lt; size &amp;&amp; heap[leftChild] &lt; heap[smallest]){
        smallest = leftChild;
      }
      if (rightChild &lt; size &amp;&amp; heap[rightChild] &lt; heap[smallest]){
        smallest = rightChild;
      }
      
      if (smallest == idx){
        break;
      }
      int temp = heap[idx];
      heap[idx] = heap[smallest];
      heap[smallest] = temp;
      idx = smallest;
    }
  }
  public void sort(){
    int ogSize = size;
<a name="2"></a><font color="#0000FF"><a href="match123-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

    for (int i = size - 1; i &gt; 0; i--){
      int temp = heap[0];
      heap[0] = heap[i];
      heap[i] = temp;
</font>      size--;
      sink(0);
    }
<a name="1"></a><font color="#00FF00"><a href="match123-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    size = ogSize;
  }
  public int[] getHeapArray(){
    int[] result = new int[size];
    for (int i = 0; i &lt; size; i++){
      result[i] = heap[i];
    }
    return result;
</font>  }
  public int getSize(){
    return size;
  }
}
class Task3 {
<a name="7"></a><font color="#0000FF"><a href="match123-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

  public static int[] distributeTasks(int[] tasks, int m){
    MinHeap machineLoads = new MinHeap(m);
    for (int i = 0; i &lt; m; i++) {
      machineLoads.insert(0);
</font>    }
    for (int i = 0; i &lt; tasks.length; i++) {
      int minLoad = machineLoads.extractMin();
      int newLoad = minLoad + tasks[i];
      machineLoads.insert(newLoad);
    }
<a name="4"></a><font color="#FF00FF"><a href="match123-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    return machineLoads.getHeapArray();
  }
}
public class Task3_Driver {
  public static void main(String[] args) {
    int[] tasks = {2, 4, 7, 1, 6};
    int m = 4;
    
    int[] result = Task3.distributeTasks(tasks, m);
</font>    for (int val : result) {
      System.out.print(val + " ");
    }
  }
}

//Task 04

class MaxHeap{
  private int[] heap;
  private int size;
  private int capacity;
  
  public MaxHeap(int capacity){
    this.capacity = capacity;
    this.heap = new int[capacity];
    this.size = 0;
  }
  
  private int parent(int i){ 
    return (i - 1) / 2;
  }
  private int left(int i){ 
    return 2 * i + 1; 
  }
  private int right(int i){
    return 2 * i + 2; 
  }
  
  public void insert(int val){
    if (size == capacity){
      System.out.println("Heap is full!");
      return;
    }
    heap[size] = val;
    size++;
    swim(size - 1);
  }
  
  private void swim(int i){
    while (i &gt; 0 &amp;&amp; heap[parent(i)] &lt; heap[i]){
      swap(i, parent(i));
      i = parent(i);
    }
  }
  
  public int extractMax(){
    if (size &lt;= 0) return -1;
<a name="8"></a><font color="#00FFFF"><a href="match123-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    int max = heap[0];
    heap[0] = heap[size - 1];
    size--;
    sink(0);
    return max;
</font>  }
  
  private void sink(int i){
    int largest = i;
    int l = left(i);
    int r = right(i);
    
    if (l &lt; size &amp;&amp; heap[l] &gt; heap[largest]) largest = l;
    if (r &lt; size &amp;&amp; heap[r] &gt; heap[largest]) largest = r;
    
    if (largest != i){
      swap(i, largest);
      sink(largest);
    }
  }
  
  private void swap(int i, int j){
    int temp = heap[i];
    heap[i] = heap[j];
    heap[j] = temp;
  }
}
class Task4{
<a name="0"></a><font color="#FF0000"><a href="match123-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

  public static int[] topK(int[] nums, int k){
    MaxHeap heap = new MaxHeap(nums.length);
    for (int n : nums){
      heap.insert(n);
    }
    int[] result = new int[k];
    for (int i = 0; i &lt; k; i++){
      result[i] = heap.extractMax();
    }
    
    return result;
  }
}
class Task4Driver {
</font><a name="5"></a><font color="#FF0000"><a href="match123-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

  public static void main(String[] args) {
    int[] nums = {4, 10, 2, 8, 6, 7};
    int k = 3;
    
    int[] result = Task4.topK(nums, k);
</font>    for (int val : result) {
      System.out.print(val + " ");
    }
  }
}</pre>
</body>
</html>
